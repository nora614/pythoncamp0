# 点彩画板


方法：我打算从最简单的做起，写一段代码，看是否可以运行，然后再写一段代码。一点一点的改变可以维稳呐！

## 第一次 搭框架
首先想到的是，三种形状要有三个按钮，并且对应的三种函数：
![](/Users/nora/Documents/pythoncamp0/pic/frame.png)

## 第二次
周二晚上，颜色不能自己设定，不能画三角形和正方形，当时的代码是这样子的：
![](/Users/nora/Documents/pythoncamp0/pic/tuepic.png)
颜色这一块怎么都弄不对，所以当时是注释的。


## 周三早晨：颜色设定和三种形状

昨晚的遗留问题是：我不会画四边形和三角形。在腰疼和编程问题怎么都解决不了的难过中睡去。今天早晨吃了早饭然后重！新！来！

为了可以正确的使用polygon，我需要先理解一下为什么circle里面的第一组参数是`[ball[0],ball[1]]`,于是我打开了week 5a的课程，重新把相关list的地方看了一遍，一边看一边做记录。然后理解了，原来，`ball[0]`是横坐标，第二个是纵坐标。这样昨晚的问题就解决了。我虽然还不知道蝈蝈的把click点当成中心点是怎么做出来的，但是通过理解这个概念，我可以分别在两个坐标上加上数字，变成：

`canvas.draw_polygon([[ball[0], ball[1]], [ball[0]+26, ball[1]], [ball[0]+13, ball[1]+13*math.sqrt(3)]],1, "Black", ball_color)`

`canvas.draw_polygon([[ball[0], ball[1]],[ball[0]+20, ball[1]], [ball[0]+20, ball[1]+20],[ball[0], ball[1]+20]], 1, "Black", ball_color)`

## 小坑
一开始我画出来的正方形是这样的：

然后我想到了这一定和连接点的顺序有关，所以把原来的代码里面几个点的位置换了一下。

## 周三下午
### 解决颜色问题
上一次修改之后发现，颜色的问题也处理好了。原来我一直以为`int()`是获取输入值的函数，后来才发现不是，`int()`是取得整数值的函数。如果我想要别人输入颜色，然后得到这个值，我就要用`str()`

### 大问题
现在我的程序可以运行了，但是有一个问题，我从中午一点弄到三点还没有弄好，就是我的程序如果换了形状，所有的形状会一起换。如果换了颜色，所有的颜色会一起换。

在有思路的折腾之前，还试过这样一种方法，注释部分：
![](/Users/nora/Documents/pythoncamp0/pic/click.png)
#### solution 1
我想可能形状改变的原因是因为我把三种形状放到了一个list里面，那么如果我不想同时变化，那么我就应该把这些东西放到三个不同的列表里面。

结果发现，这样做就是我换一种形状，整个画板上的图案都不在了。

failed

#### solution 2
最终我发现，问题出现在for……in这个遍历语句上，因为这个语句会为列表中每一个成员更换性质，所以就不对了。而且我还使用到了global，一下子把颜色的值给每个，出现了改动一次会把所有的颜色和形状都改了。不知道这两个是哪一个导致会全部变化。

![](/Users/nora/Documents/pythoncamp0/pic/ball.png)
这是我判定出错的地方

我回看了一下list这一个部分的内容，发现了同一节课程中的两个例子很有启发，一个是点击原来的会变成绿色的这个，我也想效仿这个案例，给我的图案赋值为三个元素（x，y，颜色），但是不成功。后来我参考了点一下小球会消失的这个案例，想要套用他判断语句，并且修改一下自己的撤销按钮（还是点一下就会消失这样的设定比较人性化）

### solution 3
#### 认识到了关键：
一个对应图形的list里面不应该只有三个元素，应该是四个元素，需要把坐标，位置，颜色都存储进去，这样才可以在做回放的时候把这个图的信息完整的表达出来。

#### 程序结构问题：
蝈蝈的教程出来了，对着蝈蝈的教程修改了一下自己已经写好的部分。

![](/Users/nora/Documents/pythoncamp0/pic/1.png)

 加上分割线感觉旁边的按钮好看多了。
 
![](/Users/nora/Documents/pythoncamp0/pic/2.png)
这一段是修改的最多的地方。首先，我把给点赋值的地方从`draw`修改到了`canvas`，这样看起来好看多了！不那么冗长。其次，既然我在`click`里面就把`draw_point`的问题解决了，那么画正方形和画三角形的函数就可以合并啦！这一段更加精干了。

#### pass的使用
修改好了之后，发现自己的程序`def input_color():`这一行总是报错，说`bad input`。可是我没有修改这一行，很奇怪，后来发现是因为自己在这一段代码的上面有了一个函数，但是我没有写完，就是一个`def`，在这段后面加上了`pass`,下面的就好了。

但是，新的问题出现了，这一段代码在报错。
呵呵。

## 周四早晨
### 颜色问题
首先做的改变是，我发现自己的程序如果使用者首先点击形状按钮，没有输入颜色会报错，那么我想可能我需要在输入框先有一个默认值。
参考蝈蝈的代码，学到了这么一招：
`color_input.set_text('red')`
设置了之后发现还不对，想到了光有默认值还不对，得需要程序接受呐！所以就去开头的global地方先赋值。

### 问题解决
原来的问题是：当我要切换形状时，报错，而且从圆切换到正方形，三角形和反向的切换报错不一样，前者是说：
![](/Users/nora/Documents/pythoncamp0/pic/3.png)
后者是说：
![](/Users/nora/Documents/pythoncamp0/pic/4.png)

我又去看蝈蝈写的这一段的代码，发现：我们两个有一处不一样，然后我就修改成这样：

![](/Users/nora/Documents/pythoncamp0/pic/5.png)
**不太理解为什么，因为就改了一个地方。**

## 周五
今天的目标：回放，速度，挑战输出文件。
昨天早晨debug了一下，然后见老同学，停了一天，心塞感好像没有了，也想清楚了很多。

### 回放和速度
为了保险起见，还是先把回放弄出来，速度的设置还是比较简单的。

####第一次构想
假如说是每隔一秒（回放需要：计时器），放出来一个图案。也就是说回放需要一个list（新建relist），这个 list每隔一秒就从原来的那个list里面按照顺序添加进来一个。（需要append这个函数）
问题来了，draw函数呢？这个还用原来的吗？

纠结了一下，如果说回放的程序感觉和timer的程序重复了，怎么办，那就在回放的程序里面来一个timer.start

我还纠结了一个问题，如果说我有两个list，一个是画画的时候创建到list，一个是回放的时候的，那么最后程序运行draw_canvas的时候要怎么办呢？难道说再来一个同样的吗？现在想一想，这是不可能的，而且程序会很繁琐，因为到时候还要判定我来运行哪一个程序。

所以，应该是把在回放的list里面存储的信息，返回到最开始的list里面，然后再做。

[第一个版本](http://www.codeskulptor.org/#user39_csBA00h5px_10.py)

#### 第一个版本的问题
1. 点击回放画面是不动的
2. 我不想回放了重新开始画也画不了

第二个问题很好解决，我加了一个停止回放的按钮。并且通过这个开始，停止的按钮发现我的问题就是出现在timer这个回路当中。

![](/Users/nora/Documents/pythoncamp0/pic/7.png)
尝试修改了一下这一段代码，发现还是不对。

#### 继续做上面的这个问题
首先我现在draw函数后面接一个print relst，看看我准备的这个回放列表是不是空的。发现不是空的，会随着我添加图片往里面加东西。

然后我在上面图片中的第三行加了relst = [] ，发现当我点击回放的时候，屏幕会清空。并且清空的速度的确是我设置的interval，所以我觉得interval也是没有问题的。

所以我认为，如果我把这个relst = [] 去掉，屏幕没有动，应该问题出现在了这个循环当中。

### 输出文件
这个的方法应该是要自己找了。

我先去docs里面，用print,output,files,document,type,这些关键词做了搜索，没有（至少是我没有判断出来这不是）

然后就去Google：
![](/Users/nora/Documents/pythoncamp0/pic/6.png)

看了搜出来的前几个方法，发现要用到write，但是他们都是在本地运行的可以yongwrite，需要在本地才能 output。

那么现在有两种解决方法，一种就是在本地output，但是在线用这个游戏的人怎么办？第二种是找到为什么他非要在本地output，有没有方法可以在线output？codeskulpter是怎么做到的？


